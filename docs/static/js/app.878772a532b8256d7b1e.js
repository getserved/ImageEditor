webpackJsonp([1],{"+j0J":function(t,e){},"0c3I":function(t,e){},"9Qmm":function(t,e){},A1K6:function(t,e,i){t.exports=i.p+"static/img/bg.dcdb69f.jpg"},L1SG:function(t,e,i){t.exports=i.p+"static/img/pleasure-garden-1200-by-768.b5e04b1.jpg"},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),a=i("Dd8w"),n=i.n(a),r=i("NYxO"),o={name:"Slider",props:{name:String,color:String,action:String,description:String,max:Number,min:Number,step:Number,defaultValue:Number,disabled:Boolean},data:function(){return{barValue:this.defaultValue}},computed:{percent:function(){return this.barValue?(this.barValue-this.min)/(this.max-this.min)*100:50}},methods:{barChange:function(t){var e=t.target.value,i=t.target.max;this.setTrack(e,i),this.$store.dispatch(this.action,e)},setTrack:function(t,e){}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slider"},[i("h2",{staticClass:"title",style:{color:t.color}},[t._v("\n    "+t._s(t.name)+"\n  ")]),t._v(" "),i("div",{staticClass:"slide"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.barValue,expression:"barValue"}],ref:"slider",staticClass:"input",style:{"--color":t.color,background:"linear-gradient(to right, "+t.color+", "+t.color+" "+t.percent+"%, "+t.color+"55 "+(t.percent+.01)+"%, "+t.color+"55)"},attrs:{disabled:t.disabled,type:"range",min:t.min,max:t.max,step:t.step,defaultValue:t.defaultValue},domProps:{value:t.barValue},on:{input:t.barChange,__r:function(e){t.barValue=e.target.value}}})]),t._v(" "),i("div",{staticClass:"description"},[t._v("\n    "+t._s(t.description)+"\n  ")])])},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(t){i("bxj6")},"data-v-305290ad",null).exports,u={props:{id:String,text:String,bubbleClass:String,isDefault:Boolean,start:Number,end:Number},ready:function(){},mounted:function(){},computed:{},methods:{}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"bubble",staticClass:"bubbleDialog",class:{bubbleUp:this.isDefault}},[e("section",{attrs:{id:this.id}},[e("div",{staticClass:"flex-container bubble",class:[this.bubbleClass]},[e("div",{staticClass:"copy_left"},[e("p",[this._v(this._s(this.text))])])])])])},staticRenderFns:[]};var g=i("VU/8")(u,d,!1,function(t){i("+j0J")},"data-v-e36f3e52",null).exports,m={name:"FileUploader",props:{value:File},components:{bubble:g},computed:{getErrors:function(){return this.$store.getters.getErrors}},methods:{removeErrors:function(t){this.$refs.errors.$el.classList.remove("bubbleUp")},onFileChange:function(t){var e=t.target.files,i=this.$refs.errors;e&&e[0]&&("image/jpeg"===e[0].type||"image/jpg"===e[0].type||"image/png"===e[0].type?(this.$emit("input",t.target.files[0]),this.$store.commit("setFile",t.target.files[0])):(this.$store.commit("setErrors","Only JPG and PNG images are accecpted!"),i.$el.classList.add("bubbleUp")))}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"fileUploader"},[i("div",{staticClass:"selectBtn"},[t.value?i("div",{staticClass:"names"},[t._m(0),t._v(" "),i("div",{staticClass:"fileName"},[i("span",[t._v(t._s(t.value.name))])])]):i("div",{staticClass:"select"},[t._m(1)])]),t._v(" "),i("input",{staticClass:"input",attrs:{type:"file"},on:{change:t.onFileChange,click:t.removeErrors}}),t._v(" "),i("bubble",{ref:"errors",staticClass:"errors",attrs:{bubbleClass:"bubble-bottom-left",text:t.getErrors}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"name"},[e("span",[this._v("NAME")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("SELECT FILE")])])}]};var f={name:"ImageEditor",components:{slider:c,fileUploader:i("VU/8")(m,h,!1,function(t){i("0c3I")},"data-v-3d507e13",null).exports},data:function(){return{file:null}},computed:n()({},Object(r.b)(["getTitle","getSubtitle","getControllers","getOriginalImageData","getBrightness","getContrast","getBgImg","getProfile","getFile"])),mounted:function(){this.canvas=this.$refs.canvas,this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,this.ctx=this.canvas.getContext("2d"),this.img=document.createElement("img"),this.$store.commit("setContext",this.ctx),this.$store.commit("setCanvas",this.canvas),this.$store.commit("setImage",this.img)},watch:{"$store.state.editor.brightness":function(t){t&&this.applyChange(t,this.$store.getters.getContrast)},"$store.state.editor.contrast":function(t){t&&this.applyChange(this.$store.getters.getBrightness,t)},"$store.state.editor.file":function(t){t&&this.$refs.uploadBtn.removeAttribute("disabled")}},methods:{applyChange:function(t,e){this.draw();var i=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),s=i.data;s=this.setBrightness(s,Number(t)),this.setContrast(s,Number(e)),this.ctx.putImageData(i,0,0)},setBrightness:function(t,e){for(var i=0;i<t.length;i+=4)t[i]+=e/100*255,t[i+1]+=e/100*255,t[i+2]+=e/100*255;return t},setContrast:function(t,e){for(var i=259*(e+255)/(255*(259-e)),s=0;s<t.length;s+=4)t[s]=this.truncateColor(i*(t[s]-128)+128),t[s+1]=this.truncateColor(i*(t[s+1]-128)+128),t[s+2]=this.truncateColor(i*(t[s+2]-128)+128);return t},truncateColor:function(t){return t<0?t=0:t>255&&(t=255),t},draw:function(){var t=this.canvas.width/this.image.width;this.scaledWidth=this.canvas.width,this.scaledHeight=this.image.height*t,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.img,0,0,this.scaledWidth,this.scaledHeight)},onFileChange:function(t){var e=this,i=this.$store.getters.getFile;if(i){var s=new FileReader;s.onload=function(t){e.img.src=t.target.result},s.readAsDataURL(i),e.img.onload=function(){e.ctx.drawImage(e.img,0,0),e.image={width:e.img.width,height:e.img.height},e.draw(),e.isImageLoaded=!0,e.$store.dispatch("activateControllers"),e.$store.commit("setOriginalImageData",e.ctx.getImageData(0,0,e.canvas.width,e.canvas.height))}}}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"imageEditor"},[s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("h2",[t._v(t._s(t.getTitle))]),t._v(" "),s("div",{staticClass:"subtitle"},[t._v(t._s(t.getSubtitle))])]),t._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"background",style:{"background-image":"url("+i("g2Y0")("./"+t.getBgImg)+")"}}),t._v(" "),s("div",{staticClass:"profile-container"},[s("div",{staticClass:"profile"},[s("img",{attrs:{src:i("g2Y0")("./"+t.getProfile)}})])])]),t._v(" "),s("div",{staticClass:"main-panel"},[s("div",{staticClass:"controlPanel"},t._l(t.getControllers,function(t,e){return s("div",{key:e,staticClass:"slider-container"},[s("slider",{attrs:{name:t.name,description:t.description,action:t.action,min:t.min,max:t.max,step:t.step,disabled:t.disabled,color:t.color}})],1)}),0),t._v(" "),s("div",{staticClass:"image-container"},[s("div",{ref:"canvasContainer",staticClass:"canvas-container"},[s("canvas",{ref:"canvas",staticClass:"canvas"})]),t._v(" "),s("div",{staticClass:"uploader-container"},[s("fileUploader",{model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t._v(" "),s("button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{disabled:""},on:{click:t.onFileChange}},[s("i",{staticClass:"icon"}),t._v(" "),s("span",[t._v("UPLOAD")])])],1)])])])])},staticRenderFns:[]};var v={name:"App",components:{imageEditor:i("VU/8")(f,p,!1,function(t){i("q/0h")},"data-v-7274b5f6",null).exports}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("imageEditor")],1)},staticRenderFns:[]};var C=i("VU/8")(v,b,!1,function(t){i("9Qmm")},null,null).exports;s.a.use(r.a);var _=new r.a.Store({state:{editor:{title:"Brightness & Contrast Developer Test",subtitle:"01 Jun, 2018 ‚Äí 31 Dec, 2019",bgImg:"bg.jpg",profile:"me.png",file:"",canvas:"",ctx:"",brightness:0,contrast:0,originalImageData:"",img:"",image:{url:"",width:0,height:0},isImageLoaded:!1,errors:"",controllers:[{name:"Brightness",action:"setBrightness",isDefaultDisabled:!0,description:"Slide to adjust image brightness!‚òÄÔ∏è",min:-100,max:100,step:1,defaultValue:0,barValue:0,disabled:!0,color:"#25A95B"},{name:"Contrast",action:"setContrast",description:"Slide to adjust image contrast!üåì",min:-100,max:100,step:1,defaultValue:0,barValue:0,disabled:!0,color:"#4A90E2"}]}},getters:{getFile:function(t){return t.editor.file},getTitle:function(t){return t.editor.title},getSubtitle:function(t){return t.editor.subtitle},getBgImg:function(t){return t.editor.bgImg},getProfile:function(t){return t.editor.profile},getControllers:function(t){return t.editor.controllers},getOriginalImageData:function(t){return t.editor.originalImageData},getBrightness:function(t){return t.editor.brightness},getContrast:function(t){return t.editor.contrast},getErrors:function(t){return t.editor.errors}},mutations:{setFile:function(t,e){t.editor.file=e},setContext:function(t,e){t.editor.ctx=e},setCanvas:function(t,e){t.editor.canvas=e},setImage:function(t,e){t.editor.img=e},setOriginalImageData:function(t,e){t.editor.originalImageData=e},setBrightness:function(t,e){t.editor.brightness=e},setContrast:function(t,e){t.editor.contrast=e},setControllerDisabled:function(t,e){t.editor.controllers.forEach(function(t){t.disabled=e})},setErrors:function(t,e){t.editor.errors=e}},actions:{setBrightness:function(t,e){t.commit("setBrightness",e)},setContrast:function(t,e){t.commit("setContrast",e)},activateControllers:function(t){t.commit("setControllerDisabled",!1)}}});s.a.config.productionTip=!1,new s.a({store:_,render:function(t){return t(C)}}).$mount("#app")},S4h8:function(t,e,i){t.exports=i.p+"static/img/profile.92f59cd.png"},bxj6:function(t,e){},g2Y0:function(t,e,i){var s={"./Triangle.png":"pBKx","./bg.jpg":"A1K6","./me.png":"wwak","./pleasure-garden-1200-by-768.jpg":"L1SG","./profile.png":"S4h8","./test.jpg":"p6y8"};function a(t){return i(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id="g2Y0"},p6y8:function(t,e,i){t.exports=i.p+"static/img/test.ade3856.jpg"},pBKx:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAABHNCSVQICAgIfAhkiAAAALlJREFUGFdjZEAC1p03ePnZuaYwMDB82VYgl40sx4jM8ex/WMDIyBgOEvvPwDBhe4HcSpg8XKFX7101BmbWhUgaP3/8+S34aLnGZ5AYQmH/w0UMjIyqyDb8Z2A8uL1AtgKu0HPCo3BGBoYCZEUw9t///7J3FiqcY3TvfyDJzMgEspIXm8L/DAzPP/38Fs/o1f+wk4GR0Q6bIrjY/39zQQp3MzAy8uBT+P//v/NgqxkYGEAYJ/jy68dtANjUOscnpIyeAAAAAElFTkSuQmCC"},"q/0h":function(t,e){},wwak:function(t,e,i){t.exports=i.p+"static/img/me.340f1df.png"}},["NHnr"]);
//# sourceMappingURL=app.878772a532b8256d7b1e.js.map